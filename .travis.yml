sudo: false

language: java

jdk:
- openjdk11

branches:
  only:
  - develop
  - master
  - "/^v[0-9].*/"

cache:
  directories:
  - "$HOME/.m2"

install: true

before_script:
- export TZ=Europe/Berlin

script: mvn clean verify

deploy:
  provider: releases
  api_key:
    secure: j60k/jcPtlI+jVONUW/rtfJ2aVjAoePZ4OOEDF0sIqv3ZvmpuWqSsR7aQXRGC4/vuYfYkjWX51f7T7l+dS7vXspiB9ihE57CcklaziJ2ByUip/suwcJ+LyoP3+QOd5X5Wn5+yt7NJnlhz6tz0YU2u6vrOcYzf0AfHCF3iMBwef9PqmyF15wkgvJVrOtCptAknG9YEX4c6MmkiK0+VklGT7v1NEzl0f0d7h829h8I+1CpGBShSkgaYq6/Dbs7TnIcPXR8yn8dCMf8WmNyZ5Aq+6ll3bANXg8O1npFmR1zjgKNAVz26hlNCs2U7geZYoTMPo3nbcB2a806SUJ74TnSSFjrddfceFo5H4ypp4z1rQNoytmSWatiClD5u5byh8463d/wHjITM8As//MSOLgElEDPhkOjuUEm12yD4Rj8GX+Xt+iRZxkS3cvSlBUcV+8s1aPe17NYEsVo+iIpEzbBoVc93AjN5Sr6qboqoORij+W+tCVsoDXTx+JFtDP1Y6N9cT7+pJ7IVxpV9e4KKmQhT1ImHu3Iz9YTaOCInGVEIzWf1MzYE553gx7sMMdydJbP2v/AwSqvBSGPoEdlITv7ND2+b+tYGFpUvCEldd8slUoJrL+5wfvCSeOIOzixQP+D3hYgbj8ax7jqcnSxxdhlatt7E0QVSer+fcBFvLPN2iY=
  file: "./target/*.zip"
  file_glob: true
  skip_cleanup: true
  on:
    repo: mathisdt/radiomanager
